---
interface Props {
  tabIndex: number;
  tabName: string;
  isDefault?: boolean;
}

const { tabIndex, tabName } = Astro.props;
const animatePanel = `
      #panel-${tabIndex} {
        grid-row: 1;
        grid-column: 1;
        opacity: 0;
        transform: translateY(20px);
        pointer-events: none;
        transition: opacity 0.3s, transform 0.3s;
        z-index: 0;
    }

    .tab-root:has(.tab-input-${tabIndex}:checked) #panel-${tabIndex} {
        opacity: 1;
        pointer-events: auto;
        transform: translateY(0);
        z-index: 1;
        transition-delay: 0.1s;
    `;
---

<style is:global set:html={animatePanel}></style>

<div
  id={`panel-${tabIndex}`}
  class:list={[
    `tab-content-${tabIndex}`,
    "w-full overscroll-y-auto",
    "pointer-events-auto",
    "transition-all duration-700",
    "flex flex-col items-stretch justify-center",
  ]}
>
  <div
    id={`${tabName} title`}
    class:list={[
      "absolute top-0",
      "inline-block w-full p-2",
      "text-xs font-mono italic break-after-all",
      "bg-background/50 border-b border-dashed",
      "opacity-20 hover:opacity-100 transition-opacity duration-200",
    ]}
  >
    {tabName}
  </div>
  <slot />
</div>
