---
interface Props {
  tabs: string[];
  defaultTab?: number;
}

const { tabs = [] } = Astro.props;
---

<div class="tab-root group/root not-prose overflow-y-hidden">
  <div
    class:list={[
      "grid grid-flow-col grid-cols-[repeat(minmax(1fr,1fr))]",
      "bg-secondary-bg rounded-t",
      "border-b border-secondary",
    ]}
  >
    {
      tabs.map((tab, index) => (
        <div
          class:list={[
            `${tab}-tab-${index}`,
            "relative group",
            "w-full truncate",
            "has-checked:bg-theme/20 text-center",
            "transition-colors duration-300",
            "has-checked:border-b border-theme",
          ]}
        >
          <input
            id={tab}
            name={`tab-group`}
            type="radio"
            class={`tab-input-${index} peer hidden`}
            checked={index === 0}
          />
          <label
            for={tab}
            class:list={[
              "block w-full h-full px-2 py-1",
              "truncate align-middle text-center text-xs text-secondary",
              "sm:text-sm hover:text-theme",
              "peer-checked:text-theme cursor-pointer",
              "group-first:rounded-tl group-last:rounded-tr",
            ]}
          >
            {tab}
          </label>
        </div>
      ))
    }
  </div>
  <div
    class:list={[
      "relative",
      "grid",
      "grid-cols-1",
      "w-full px-2",
      "border-b border-x border-secondary-bg rounded-b",
      "not-prose",
    ]}
  >
    <slot />
  </div>
</div>
