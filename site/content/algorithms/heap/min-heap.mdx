---
title: "Min Heap"
description: "size 0 ì‹œ null ë°˜í™˜"
createdAt: "2025-03-19"
path: ["algorithms", "heap"]
tags:
  pattern: "heap"
  category: "heap"
---

> ğŸ“Œ **Source Code:** [heap/min-heap.js](https://github.com/0teklee/pattern-recognition/tree/main/site/content/algorithms/heap/min-heap.js)

```js
class MinHeap {
  constructor() {
    this.items = [];
  }

  size() {
    return this.items.length;
  }
  swap(a, b) {
    [this.items[a], this.items[b]] = [this.items[b], this.items[a]];
  }
  pop() {
    // size 0 ì‹œ null ë°˜í™˜
    if (this.size() <= 0) {
      return null;
    }

    // minì´ì—ˆë˜ headì˜ ê°’ë§Œ ì €ì¥í•¨
    const min = this.items[0];
    // ìƒˆë¡œìš´ í—¤ë“œë¡œ ê¼¬ë¦¬ì— ìˆë˜ ê°’ì„ ë„£ìŒ
    this.items[0] = this.items[this.size() - 1];
    // ê·¸ë‹¤ìŒ 0 ì¸ë±ìŠ¤ ìœ„ì—ì„œë¶€í„° ë‚´ë ¤ê°€ë©´ì„œ ì •ë ¬í•¨.
    this.bubbleDown();

    // ì €ì¥í•´ë‘” í í—¤ë“œë¥¼ ë°˜í™˜
    return min;
  }
  bubbleDown() {
    // ìœ„ì—ì„œë¶€í„° ë‚´ë ¤ê°
    let index = 0;

    // index * 2 + 1 í˜„ì¬ ì¸ë±ìŠ¤ * 2ì— ì™œ + 1ì¼ê¹Œ?
    // ë¶€ëª¨ ë…¸ë“œì—ì„œ ì˜¤ë¥¸ìª½ ë…¸ë“œê°€ ê°€ì¥ í° ìˆ«ìë¥¼ ë”í•´ì§ < ë§ˆì§€ë§‰ ë…¸ë“œ ì¸ë±ìŠ¤ë‘ ë¹„êµí•´ì„œ ë” ì‘ì„ ë•Œê¹Œì§€
    while (index * 2 + 1 < this.size() - 1) {
      let leftIndex = index * 2 + 1;
      let rightIndex = index * 2 + 2;
      let smallerIndex =
        // right indexê°€ leftë³´ë‹¤ í•­ìƒ í¬ë‹ˆê¹Œ (+2), ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ë³´ë‹¤ ì‘ì•„ì•¼í•¨
        rightIndex < this.size() - 1 &&
        // ì—¬ê¸°ì„œ ë” ì‘ì€ ìª½ì˜ ë¹„êµ ëŒ€ìƒ ì ìš©ë¨
        // ì–‘ ì˜† ìì‹ ì¤‘ì— ë” ì‘ì€ ìª½ì´ë‘ ë¶€ëª¨ë¥¼ ë¹„êµí•´ì•¼í•¨.
        // ì–¸ì œë‚˜ ê°™ê±°ë‚˜ ì‘ì•„ë„ ë˜ë‚˜?
        this.items[rightIndex] <= this.items[leftIndex]
          ? rightIndex
          : leftIndex;
      // ì•„ë˜ê°€ ì¤‘ë‹¨ì 
      if (this.items[index] <= this.tems[smallerIndex]) {
        break;
      }

      // í˜„ì¬ ì¸ë±ìŠ¤ì˜ ê°’ì´ ìì‹ì˜ ë” ì‘ì€ìª½ë³´ë‹¤ ë” í° ê²½ìš°
      // ìŠ¤ì™‘ + ë¡œì»¬ indexë¥¼ ìì‹ìœ¼ë¡œ ë³€ê²½
      this.swap(index, smallerIndex);
      index = smallerIndex;
    }
  }
  push(data) {
    this.items.push(data);
    // ë°°ì—´(ìŠ¤íƒ)ì— ë°ì´í„° ë„£ê³ 
    this.bubbleUp();
    // ë°”ë‹¥ë¶€í„° ì •ë ¬ ì‹œì‘
  }
  bubbleUp() {
    let index = this.size() - 1;
    // ë¡œì»¬ ì¸ë±ìŠ¤. ì‘ì—…ì˜ ì‹œì‘ì . ì´ê²Œ ë°”ë€Œì–´ì•¼ ë°˜ë³µë¬¸ì´ ë©ˆì¶¤
    // ë°”ë‹¥ë¶€í„° ì‹œì‘í•´ì„œ index 0 ì´ìƒì¼ ë•Œê¹Œì§€
    while (index > 0) {
      let parentIndex = Math.floor((index - 1) / 2);

      // Minì˜ bubbleUp ì¡°ê±´ ì¤‘ë‹¨ì .
      // ë¶€ëª¨ ë…¸ë“œê°€ ê°™ê±°ë‚˜ ë” ì‘ì„ ë•Œ ë©ˆì¶¤
      if (this.items[parentIndex] <= this.items[index]) {
        break;
      }
      // ë¶€ëª¨ ë…¸ë“œê°€ ë” í° ê²½ìš° ë°”ê¿”ì•¼í•¨, itemsì˜ ì¸ë±ìŠ¤, ë¶€ëª¨ ì¸ë±ìŠ¤ì˜ ê°’ì„ ë°”ê¿ˆ
      this.swap(index, parentIndex);
      // ë¡œì»¬ ì¸ë±ìŠ¤ë¥¼ ë¶€ëª¨ë¡œ ë°”ê¿ˆ (tail - 1 / 2)
      index = parentIndex;
    }
  }
}
```
