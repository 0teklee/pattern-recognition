---
import BaseLayout from "@site-ui/root-layout.astro";
import ListLayout from "@site-ui/list-layout.astro";
import Filter from "@site-ui/filter.astro";
import List from "@site-ui/list.astro";
import { getCollection } from "astro:content";
import { RouteKeyMap } from "@site-types/routes";
import { getEnv } from "@site/utils";

export const prerender = true;

const { isRoot, isAlgo } = getEnv();
const posts =
  isRoot || isAlgo ? await getCollection(RouteKeyMap.algorithms) : [];
---

<BaseLayout title="Algorithms" description="Pattern Recognition - Algorithms">
  <ListLayout>
    <Fragment slot="title"> Algorithms Patterns</Fragment>
    <Fragment slot="list">
      <Filter items={posts} />
      <List items={posts} />
    </Fragment>
  </ListLayout>
</BaseLayout>
